<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XML Lab</title>
    <link rel="stylesheet" href="assets/project.css">
    <!-- Add any additional styles or scripts as needed -->
    <link href="https://fonts.cdnfonts.com/css/south-park-with-lowercase" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/mentone" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/funkie-retro" rel="stylesheet">
    <script src="assets/jquery.min.js"></script>
    <script src="assets/masonry.pkgd.min.js"></script>
    <script src="assets/script.js" defer></script>
</head>

<body>

    <header>
        <a href="work.html" class="back-button">Back</a>
    </header>

    <div class="container">
        <h1>XML: Parsing and Manipulation Techniques</h1>
        <article class="blog-post">
            <div class="post-content">
                <!-- Your explanation and placeholders for photos go here -->
                <p>In this XML document, we have information about children enrolled in a summer camp.</p>
                <textarea readonly id="xmlSnippet"></textarea>
                <script>
                    // XML code snippet
                    const xmlSnippet =
                        `<?xml version="1.0" encoding="UTF-8"?>
<!--Elizabeth Mata-Cerqueira-->
<!--41071562-->
<root>
	<SummerCampRegistration>
            
            
		<!-- Child 1 -->
		<Child ID="123456789">
			<!-- Childs first and last name -->
			<Name>
				<FirstName>John</FirstName>
				<LastName>Doe</LastName>
			</Name>
			<!-- Childs age -->
			<Age>10</Age>
			<!-- Childs gender -->
			<Gender>Male</Gender>
			<!-- Childs address -->
			<Address>
				<!-- Childs street name -->
				<Street>123 Street Name</Street>
				<!-- Childs city -->
				<City>Thunder Bay</City>
				<!-- Childs state/prvince -->
				<Province>Ontario</Province>
				<!-- Childs zipcode -->
				<Zip>L1A 2N3</Zip>
			</Address>
			<!-- Child Dietary restrictions -->
			<DietaryRestrictions>
				<!-- Child Allergies -->
				<Allergy>Peanuts</Allergy>
				<!-- Other diet restrictions -->
				<Restrictions>Eggs</Restrictions>
			</DietaryRestrictions>
			<!-- Child Medical Information -->
			<MedicalInformation>
				<!-- Child Medication -->
				<Medication>None</Medication>
				<!-- Childs Medical Conditions -->
				<MedicalCondition>None</MedicalCondition>
			</MedicalInformation>
			<!-- Parent contact information -->
			<Contact>
				<!-- Parents name  -->
				<ParentName>Susan Doe</ParentName>
				<!-- Parents phone number -->
				<ParentPhone>999-999-9999</ParentPhone>
			</Contact>
			<EmergencyContact>
				<!-- Emergency contact Name and phone number -->
				<EmergencyName>Mary Doe</EmergencyName>
				<EmergencyNumber>291-293-1293</EmergencyNumber>
			</EmergencyContact>
			<CampProgram>
				<!-- Selected summer camp program -->
				<SelectedCamp>Art Adventure</SelectedCamp>
			</CampProgram>
		</Child>
                
                
		<!-- Child 2 -->
		<Child ID="13579753">
			<!-- Childs first and last name -->
			<Name>
				<FirstName>Sam</FirstName>
				<LastName>Tim</LastName>
			</Name>
			<!-- Childs age -->
			<Age>11</Age>
			<!-- Childs gender -->
			<Gender>Female</Gender>
			<!-- Childs address -->
			<Address>
				<!-- Childs street name -->
				<Street>452 Streeting Name</Street>
				<!-- Childs city -->
				<City>Thunder Bay</City>
				<!-- Childs state/prvince -->
				<Province>Ontario</Province>
				<!-- Childs zipcode -->
				<Zip>P7E 5A1</Zip>
			</Address>
			<!-- Child Dietary restrictions -->
			<DietaryRestrictions>
				<!-- Child Allergies -->
				<Allergy>Tomato</Allergy>
				<!-- Other diet restrictions -->
				<Restrictions>None</Restrictions>
			</DietaryRestrictions>
			<!-- Child Medical Information -->
			<MedicalInformation>
				<!-- Child Medication -->
				<Medication>None</Medication>
				<!-- Childs Medical Conditions -->
				<MedicalCondition>None</MedicalCondition>
			</MedicalInformation>
			<!-- Parent contact information -->
			<Contact>
				<!-- Parents name  -->
				<ParentName>Joanne Doe</ParentName>
				<!-- Parents phone number -->
				<ParentPhone>888-888-8888</ParentPhone>
			</Contact>
			<EmergencyContact>
				<!-- Emergency contact Name and phone number -->
				<EmergencyName>Susan Doe</EmergencyName>
				<EmergencyNumber>291-293-1293</EmergencyNumber>
			</EmergencyContact>
			<CampProgram>
				<!-- Selected summer camp program -->
				<SelectedCamp>Campfire Adventure</SelectedCamp>
			</CampProgram>
		</Child>
                
	</SummerCampRegistration>
</root>

`;

                    // Set the XML snippet in the textarea
                    document.getElementById('xmlSnippet').textContent = xmlSnippet;
                </script>

<P>We can parse and manipulate this XML data using Javascript. Lets break down the steps </P>
<p><b>1. Event Listener for DOMContentLoaded</b> <br> This event listener is triggered when the HTML document has been completed loaded and parsed. </p>
<pre>
		<code>document.addEventListener('DOMContentLoaded', function () {
                    // Code to execute when the DOM is fully loaded
                });</code>
	</pre>
<p><b>2. Fetching and Parsing XML Data</b></p>
<p> Use the 'fetch' API to retrive XML data from specificed URL. For example ('data/summer_camp_data.xml'). The fetched data is then converted into text and the subsequent actions are performed in the second 'then' block. </p>
<pre>
		<code>fetch('data/summer_camp_data.xml')
                    .then(response => response.text())
                    .then(data => {
                        // Code to execute after successfully fetching the XML data
                    });</code>
	</pre>
<p><b>3. Parsing XML Data</p></b>
<p> The fetched XML data is parsed using the DOMParser to create an XML document (xmlDoc). This document can be queried and manipulated using the DOM (Document Object Model) API. </p>
<pre>
		<code>const parser = new DOMParser();
                            const xmlDoc = parser.parseFromString(data, 'text/xml');</code>
	</pre>
<p><b>4. Extracting Child Information</p></b>
<p> The extractChildInfo function is called to extract information for Child 1 and Child 2 based on their respective IDs. </p>
<pre>
		<code>
                    const child1Info = extractChildInfo(xmlDoc, '123456789');
                    const child2Info = extractChildInfo(xmlDoc, '13579753');</code>
	</pre>
<p><b>4. extractChildInfo Function</p></b>
<p> This function takes the XML document and a child ID as parameters, then uses DOM queries to extract specific information (name, age, gender, allergies, and selected camp) for the child with the given ID. </p>
<pre>
		<code>
                function extractChildInfo(xmlDoc, childId) {
                    const childElement = xmlDoc.querySelector(`Child[ID="${childId}"]`);
                            
                    return {
                        name: childElement.querySelector('Name FirstName').textContent + ' ' + childElement.
						querySelector ('Name LastName').textContent,
                        age: childElement.querySelector('Age').textContent,
                        gender: childElement.querySelector('Gender').textContent,
                        allergies: childElement.querySelector('DietaryRestrictions Allergy').textContent,
                        selectedCamp: childElement.querySelector('CampProgram SelectedCamp').textContent
                    };
                }</code>
	</pre>
<p><b>6. Displaying Child information</p></b>
<p> The displayChildInfo function creates HTML elements to display the extracted information for a child. It appends a new div element to a container (childInfoContainer) with the child's name, age, gender, allergies, selected camp, and a horizontal line for separation. </p>
<pre>
		<code>
                        function displayChildInfo(childName, childInfo) {
                            const childInfoContainer = document.getElementById('childInfo');
                            const childDiv = document.createElement('div');
                            childDiv.innerHTML = `
                                &lt;h2&gt;${childName}&lt;/h2&gt;
                                &lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; ${childInfo.name}&lt;/p&gt;
                                &lt;p&gt;&lt;strong&gt;Age:&lt;/strong&gt; ${childInfo.age}&lt;/p&gt;
                                &lt;p&gt;&lt;strong&gt;Gender:&lt;/strong&gt; ${childInfo.gender}&lt;/p&gt;
                                &lt;p&gt;&lt;strong&gt;Allergies:&lt;/strong&gt; ${childInfo.allergies}&lt;/p&gt;
                                &lt;p&gt;&lt;strong&gt;Selected Camp:&lt;/strong&gt; ${childInfo.selectedCamp}&lt;/p&gt;
                                &lt;hr&gt;
                            `;
                            childInfoContainer.appendChild(childDiv);
                        }
                    </code>
	</pre>
<p>Putting all this together, we can display this XML document within this page like so: </p>
<div id="childInfo"></div>
<script>       document.addEventListener("DOMContentLoaded", function () {
    // Add a click event listener to all links
    const links = document.querySelectorAll("a");
    links.forEach(link => {
        link.addEventListener("click", function (event) {
            // Prevent the default link behavior
            event.preventDefault();

            // Add fade-out class to body
            document.body.classList.add("fade-out");

            // Redirect to the link after the fade-out transition
            const targetUrl = this.href;
            setTimeout(() => {
                window.location.href = targetUrl;
            }, 500); // Adjust the duration to match the CSS transition duration
        });
    });
});</script>
</div></article></div></body></html>